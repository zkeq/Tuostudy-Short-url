#### ğŸš€è‡ªå·±å†™çš„çŸ­é“¾ç½‘å€å‰åç«¯æºç ğŸš€ (ç›®å‰å·²ç›´æ¥å¯¹æ¥ossï¼‰

###### [ç›®å‰å·²æ”¯æŒä½¿ç”¨ `notion` çš„ `database` åšæ•°æ®æº]

> ç¤ºä¾‹åœ°å€ï¼š http://tuo.icodeq.com/dream

##### ç•Œé¢

![1](https://p18.qhimg.com/t01220de52b24dc1415.png)

##### åŸç†

- åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯åˆ©ç”¨ `404 é¡µé¢` ä¼šæ•è·æ‰€æœ‰è¯·æ±‚è¿™ä¸€ç‰¹æ€§

- ç„¶åå†ç”¨ `window.location.href` è·å–åˆ°å½“å‰è®¿é—®çš„ `url`

- æ¥ç€å»è·å–ä¸€ä¸ª `json` æ–‡ä»¶ï¼Œåˆ©ç”¨ä¸Šé¢çš„å½“å‰è®¿é—® `url` æŸ¥å­—å…¸ï¼ŒæŸ¥ä¸åˆ°å°±è·³è½¬åˆ°é»˜è®¤ä¸»é¡µ

- æŸ¥åˆ°å­—å…¸äº†å°± `window.location.replace()`

##### Json æ ¼å¼ (ä¸“é—¨å†™äº†ä¸€ä¸ªå·¥å…·æ¥ç”Ÿæˆå’Œç»´æŠ¤è¿™ä¸ªæ•°æ®ï¼Œè§ [Releases](https://github.com/zkeq/Tuostudy-Short-url/releases) )

```JSON
{
	"dream": "https://dream-plan.cn/",
	"abcd": "https://tuostudy.vercel.app/api?path=/ğŸ“º 020# å•è¯è§†é¢‘/ğŸ“ æ‰‡è´å•è¯ï¼ˆæ–°ï¼‰/æ‰˜ç¦ä¸­çº§.mp4&raw=true",
	"abcde": "https://tuostudy.vercel.app/ğŸ“º 020# å•è¯è§†é¢‘/ğŸ“ å®˜æ–¹åŸç‰ˆï¼ˆåŒæ­¥ï¼‰/ğŸ“ äººæ•™ç‰ˆé«˜ä¸­è‹±è¯­å•è¯å¿…ä¿®1~é€‰ä¿®11",
	"test": "https://tuostudy.vercel.app/ğŸ”Š 030# è¯¾æœ¬éŸ³é¢‘/ğŸ“ è‹±è¯­",
	"test2": "https://tuostudy.vercel.app/ğŸ”Š 030# è¯¾æœ¬éŸ³é¢‘/ğŸ“ è‹±è¯­/ğŸ“ 03# é«˜è€ƒå¬åŠ›/2019å¹´",
	"vip": "https://tuostudy.vercel.app/ğŸ“º 020# å•è¯è§†é¢‘/ğŸ“ ä¸èƒŒå•è¯ï¼ˆè¶…å…¨ï¼‰/ğŸ“ 07# å›ºå®šæ­é…è¯ç»„çŸ­è¯­ç³»åˆ—ï¼ˆä»˜è´¹ï¼‰",
	"vip1": "https://tuostudy.vercel.app/api?path=/ğŸ“º 020# å•è¯è§†é¢‘/ğŸ“ ä¸èƒŒå•è¯ï¼ˆè¶…å…¨ï¼‰/ğŸ“ 07# å›ºå®šæ­é…è¯ç»„çŸ­è¯­ç³»åˆ—ï¼ˆä»˜è´¹ï¼‰/ä¸­è€ƒè¯ç»„.mp4&raw=true",
	"shanbei": "https://tuostudy.vercel.app/ğŸ“œ 050# å•è¯æ–‡æœ¬/ğŸ“ 02# æ‰‡è´å•è¯ï¼ˆæ–°ï¼‰/",
	"xiaoxuetxt": "https://tuostudy.vercel.app/ğŸ“œ 050# å•è¯æ–‡æœ¬/ğŸ“ 01# å¢¨å¢¨å•è¯ï¼ˆè¶…å…¨ï¼‰/ğŸ“ 03# å¸¦ä¸­æ–‡é‡Šä¹‰ç‰ˆ/1.å…¨å›½å„å¤§æ•™æç‰ˆæœ¬ä¸­å°å­¦åŒæ­¥/äººæ•™ç‰ˆ/",
	"xiaoxuemp3": "https://tuostudy.vercel.app/ğŸ”Š 030# è¯¾æœ¬éŸ³é¢‘/ğŸ“ è‹±è¯­/ğŸ“ 01# ä¸­å°å­¦åŒæ­¥å•è¯è¯¾æ–‡å½•éŸ³/å°å­¦/äººæ•™ç‰ˆ/"
}
```

##### ä»£ç 

- [zkeq/Tuostudy-Short-url: çŸ­é“¾æœåŠ¡ (github.com)](https://github.com/zkeq/Tuostudy-Short-url)

- [zkeq/Tuostudy-Short-url: çŸ­é“¾æœåŠ¡ (gitee.com)](https://gitee.com/zkeq/Tuostudy-Short-url)

#### ç”¨æ³• 

1. ä¿®æ”¹ `404.html` å’Œ `index.html` ä¸­çš„è¿™äº›éƒ¨åˆ† ( `url` å’Œ `long` çš„å€¼)

```javascript
   
    ajax({
            method: 'GET',
            url: 'https://tuo-site.oss-cn-beijing.aliyuncs.com/data.json',
            success: function (OriginalFromActivity) {
                //åœ¨è¿™é‡Œå¯¹è·å–çš„æ•°æ®ç»å¸¸æ“ä½œ
                console.log(OriginalFromActivity)
                url = window.location.href.split('/').pop()
                long = OriginalFromActivity[url]
                if(long === undefined) { // åªèƒ½ç”¨ === è¿ç®—æ¥æµ‹è¯•æŸä¸ªå€¼æ˜¯å¦æ˜¯æœªå®šä¹‰çš„
                     long = 'https://tuostudy.vercel.app'}
                console.log(long)
                window.location.replace(long)
                }
 })
```

2. ä¿®æ”¹ ç½‘é¡µå‰ç«¯ï¼Œæ”¹æˆè‡ªå·±å–œæ¬¢çš„æ ·å­

3. å°†ç½‘é¡µéƒ¨ç½²åˆ° `github` æˆ–è€… `gitee` æˆ–è€… `vercel` ä¸Šé¢

4. æ‰“å¼€ åœ¨ [å›¾æ¬§å›çŸ­é“¾ç”Ÿæˆå™¨-v4.x](https://github.com/zkeq/Tuostudy-Short-url/releases) ä¸‹è½½çš„ `å›¾æ¬§å›çŸ­é“¾ç”Ÿæˆå™¨-v4.x`, æˆ–è€…ç›´æ¥è¿è¡Œ `/python-CLI` ç›®å½•ä¸‹çš„æºç 

5. æ ¹æ®æç¤ºå¼€å§‹æ·»åŠ çŸ­é“¾ ï¼ˆ`OSS` è¯¦æƒ…è®¾ç½®è¯·å‚é˜…å®˜ç½‘é…ç½®ï¼Œè‹¥ä¸æ˜¯ä½¿ç”¨çš„ `OSS` ï¼Œè¯·ä½¿ç”¨ `local` ç‰ˆæœ¬ï¼‰

```cmd
æœ¬å·¥å…·æœ‰å››ç§æ¨¡å¼

1. è‡ªå®šä¹‰ç”ŸæˆçŸ­é“¾
2. è®¾ç½®è¦ç”Ÿæˆçš„çŸ­é“¾ä½æ•° ï¼Œè‡ªåŠ¨ç”ŸæˆçŸ­é“¾
3. åˆ é™¤æˆ–ä¿®æ”¹çŸ­é“¾æ¨¡å¼
4. æŸ¥é˜…æ¨¡å¼ï¼ˆåªè¯»æ¨¡å¼ï¼‰
0. é€€å‡º
```

6. ~æ·»åŠ çŸ­é“¾å®Œæˆåå°† `data.json` æ–‡ä»¶ä¼ åˆ° `Github` æˆ–è€… `Gitee` æˆ–è€… `Vercel` æˆ–è€… `OSS` æˆ–è€…éšä¾¿ä¸€ä¸ªäº‘å­˜å‚¨~

6. æœ¬å·¥å…·è‡ªåŠ¨åŒæ­¥ oss ï¼Œè¯¦æƒ…å‚é˜…  https://github.com/zkeq/Tuostudy-Short-url/releases/tag/v4.0.0 ğŸš€ğŸš€ğŸš€ğŸš€

7. è¯·ç¡®ä¿ä½ ç¬¬å…­æ­¥ä¸Šä¼ æ•°æ®å¾—åˆ°çš„ `url` å¯ä»¥ç›´æ¥è®¿é—®å¹¶ä¸”ç¬¬ä¸€æ­¥å¡«å†™çš„`url`ä¸­çš„å€¼å®Œå…¨ä¸€æ · 

8. (ä¸‹æ–‡æœ‰ `notion` åšæ•°æ®æºï¼‰

9. ğŸš€ enjoy ğŸš€

#### åç»­ç»´æŠ¤

- è¯·åœ¨ `å›¾æ¬§å›çŸ­é“¾ç”Ÿæˆå™¨-v4.x`ä¸­è¿›è¡Œåç»­æ“ä½œã€‚

#### å¦ä¸€ç§æ€è·¯ï¼ˆä¸å¤§æ¨èï¼‰

- åˆ©ç”¨ `vercel` çš„äº‘å‡½æ•°ï¼Œä½¿ç”¨ `python` æ¸²æŸ“å®Œæˆæ–‡ä»¶åè¿”å›å‰ç«¯

- ç›¸å…³æºç ï¼š[zkeq/Tuostudy-Short-url: çŸ­é“¾æœåŠ¡ (github.com)](https://github.com/zkeq/Tuostudy-Short-url/tree/main/api)

### ä½¿ç”¨ `notion` çš„ `database` åšæ•°æ®æº

1. åˆ›å»ºä¸€å¼  `database` è¡¨ï¼›åˆ›å»ºä¸€ä¸ªé›†æˆï¼›ç»™é›†æˆåŠ  `è¯»æƒé™`

2. è·å–åˆ°ä½ çš„ notion `sk`

3. å°† `SK` å’Œ `database`çš„ `id`  å¡«å…¥ `/api/notion/index.py` ä¸­

4. `databese` æ•°æ®è¡¨æ ¼å¼å¦‚ä¸‹å›¾

![2](https://p19.qhimg.com/t0151751b6a75ac7c22.png)

5. ç›´æ¥è®¿é—® `/api/notion/?dream` å³å¯è·³è½¬

6. æˆ–ä½¿ç”¨ `api/notion-back-json` åšæ•°æ®æº

7. æ•°æ®æºè¿”å›ç¤ºä¾‹ https://tuo.icodeq.com/api/notion-back-json


### æ¥å£ç¤ºä¾‹

| åºå· | è¯´æ˜                   | ç¤ºä¾‹                                       |
| :--: | ---------------------- | ------------------------------------------ |
|  1   | 404æ ¹ç›®å½•ä¸»é“¾æ¥ | http://tuo.icodeq.com/dream |
|  2   | æ ¹ç›®å½•ç´¢å¼• | http://tuo.icodeq.com/?dream  |
|  3   | vercel-oss-api | http://tuo.icodeq.com/api/?dream  |
|  3   | vercel-notion-api | http://tuo.icodeq.com/api/notion/?dream  |


#### æºç ä»¥åŠç›¸å…³é“¾æ¥

| åºå· | è¯´æ˜                   | é“¾æ¥                                       |
| :--: | ---------------------- | ------------------------------------------ |
|  1   | `Github` ä»“åº“ (ä¼šæ›´æ–°) | https://github.com/zkeq/Tuostudy-Short-url |
|  2   | `Gitee` ä»“åº“ (ä¼šæ›´æ–°)  | https://gitee.com/zkeq/Tuostudy-Short-url  |
|  3   | æœ¬æ–‡PDFæ ¼å¼     | https://lanzoul.com/iDzgM003x1yh  |

